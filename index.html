<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>17393 Project</title>
        <link rel="icon" type="image/x-icon" href="https://github.com/MadelynGH/17393-Project/blob/main/FLLC%2017393%20Favicon%20Idea.png?raw=true">

        <style src="https://github.com/MadelynGH/17393-Project/blob/main/index.css"></style>
    </head>

    <body>
        <img src="https://github.com/MadelynGH/17393-Project/blob/main/FLLC%2017393%20Logo.png?raw=true" id="logo">

        <!--line break in between the paragraph and logo-->
        <div class="break"></div>

        <p>Hello! This tool is a prototype for the project of 17393, The Masterpiece Makers!</p>

        <div id="note-button-container">
            <button class="note-button" id="c4-note">C4</button>
            <button class="note-button" id="d4-note">D4</button>
            <button class="note-button" id="e4-note">E4</button>
            <button class="note-button" id="f4-note">F4</button>
            <button class="note-button" id="g4-note">G4</button>
            <button class="note-button" id="a5-note">A5</button>
            <button class="note-button" id="b5-note">B5</button>
        </div>

        <div id="rest-button-container">
            <button class="rest-button" id="quartrest">Quarter Rest</button>
        </div>

        <div id="composition-container">
            <button id="play-button" onclick="playComposition();">PLAY</button>
            <button id="clear-button" onclick="clearComposition();">CLEAR</button>
            <h3 id="composition">Composition: </h3>
        </div>

        <script>

            // define the note buttons class as a whole
            var noteButtons = document.getElementsByClassName("note-button");

            // define each note button in the document
            var noteC4 = document.getElementById("c4-note");
            var noteD4 = document.getElementById("d4-note");
            var noteE4 = document.getElementById("e4-note");
            var noteF4 = document.getElementById("f4-note");
            var noteG4 = document.getElementById("g4-note");
            var noteA5 = document.getElementById("a5-note");
            var noteB5 = document.getElementById("b5-note");

            var quartrest = document.getElementById("quartrest");

            var compositionContainer = document.getElementById("composition-container");
            var compositionDisplay = document.getElementById("composition");
            var composition = [];
            
            var addNote = function(note) {
                new Audio("https://github.com/MadelynGH/17393-Project/blob/main/note-" + note +
                 ".wav?raw=true").play();

                compositionDisplay.innerHTML += note + " ";
                composition.push(note);
            }

            var playComposition = function() {
                for (let i = 0; i < composition.length; i++) {
                    var delay = 300;

                    setTimeout(function() {
                        new Audio("https://github.com/MadelynGH/17393-Project/blob/main/note-" + composition[i] +
                        ".wav?raw=true").play();
                    }, i * delay)

                }
            }

            var clearComposition = function() {
                composition.length = 0;
                compositionDisplay.innerHTML = "Composition: ";
            }
            
            // add event listeners for each note to call the playNote function with the note as the paramater when the button is clicked
            noteC4.addEventListener("click", function() {addNote("c4")});
            noteD4.addEventListener("click", function() {addNote("d4")});
            noteE4.addEventListener("click", function() {addNote("e4")});
            noteF4.addEventListener("click", function() {addNote("f4")});
            noteG4.addEventListener("click", function() {addNote("g4")});
            noteA5.addEventListener("click", function() {addNote("a5")});
            noteB5.addEventListener("click", function() {addNote("b5")});

            quartrest.addEventListener("click", function() {addNote("quartrest")})
        </script>
    </body>
</html>